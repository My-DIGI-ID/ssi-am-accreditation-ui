<div class="container">
  <div class="row">
    <h1>Gästeübersicht</h1>
    <a mat-flat-button [disableRipple]="true" color="primary" id="addGuest" [routerLink]="['../add']"
      ><mat-icon aria-hidden="false" aria-label="add guest">add</mat-icon>NEUEN GAST ANLEGEN</a
    >
  </div>
  <div class="table-row">
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>Vorname</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.firstName }}
        </td>
      </ng-container>
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>Nachname</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.lastName }}
        </td>
      </ng-container>
      <ng-container matColumnDef="arriving">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>Ankunftszeit</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.validFromDate | guestDisplayPipe }}
        </td>
      </ng-container>
      <ng-container matColumnDef="leaving">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>Abreisezeit</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.validUntilDate | guestDisplayPipe }}
        </td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>E-Mail-Adresse</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.email }}
        </td>
      </ng-container>
      <ng-container matColumnDef="location">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>Ort / Gebäude</span>
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.location }}
        </td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span>Status</span>
        </th>
        <td mat-cell *matCellDef="let element">
          <span id="download-email-button" (click)="downloadEmail(element.id)" mat-dialog-close="true">
            <mat-icon>cloud_download</mat-icon>
          </span>
        </td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <span id="edit-guest-button" (click)="editGuest(element.id)">
            <mat-icon>edit</mat-icon>
          </span>
          <span id="delete-guest-button" (click)="deleteGuest(element.id)">
            <mat-icon>delete</mat-icon>
          </span>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
